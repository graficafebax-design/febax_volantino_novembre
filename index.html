<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Volantino Animato</title>

  <!-- CSS PageFlip -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/page-flip/dist/css/page-flip.css">

  <style>
    body {
      margin: 0;
      background: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: sans-serif;
      overflow: hidden;
    }

#catalogo {
  width: 100%;        /* Occupa tutta la larghezza disponibile */
  height: 80%;       /* Occupa tutta l’altezza desiderata */
  max-width: 1080px;   /* Limite massimo larghezza */
  max-height: 1920px; /* Limite massimo altezza */
  background: white;
  box-shadow: 0 0 0px rgba(0,0,0,0.3);
  position: relative;
}

.nav-button {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(0,0,0,0.5);
  color: white;
  border: none;
  padding: 10px 20px;
  font-size: 2rem;
  cursor: pointer;
  border-radius: 5px;
  z-index: 10;
}

#prev { left: 5px; }
#next { right: 5px; }

canvas { cursor: grab; }

/* Elimina margini e spazi bianchi interni alle pagine */
#catalogo .st-page {
  margin: 0 !important;
  padding: 0 !important;
  background: none;
}

#catalogo img {
  display: block;
  width: 100%;
  height: 100%;
  object-fit: cover;
}

@media (max-width: 768px) {
  #catalogo {
    width: 90vw;
    height: 90vh;
  }
}

/* NAVBAR */
#navbar {
  width: 100%;
  height: 60px;
  background: #ffffff;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 20px;
  box-sizing: border-box;
  position: fixed;
  top: 0;
  left: 0;
  z-index: 20;
}

#navbar .logo img {
  height: 40px;
}

#navbar .menu {
  list-style: none;
  display: flex;
  margin: 0;
  padding: 0;
}

#navbar .menu li {
  margin-left: 20px;
}

#navbar .menu li a {
  color: rgb(44, 44, 44);
  text-decoration: none;
  font-weight: bold;
  transition: color 0.2s;
}

#navbar .menu li a:hover {
  color: #6b6b6b;
}

/* Sposta il catalogo sotto la navbar */
#catalogo {
  margin-top: 60px;
}

  </style>
</head>
<body>

<!-- NAVBAR -->
<nav id="navbar">
  <div class="logo">
    <img src="pagine/logo_febax.svg" alt="Logo Azienda">
  </div>
  <ul class="menu">
    <li><a href="#">Home</a></li>
    <li><a href="#">Prodotti</a></li>
    <li><a href="#">Chi Siamo</a></li>
    <li><a href="#">Contatti</a></li>
  </ul>
</nav>

<!-- Catalogo sfogliabile -->
<button id="prev" class="nav-button">⟨</button>
<button id="next" class="nav-button">⟩</button>
<div id="catalogo"></div>

<script src="https://cdn.jsdelivr.net/npm/page-flip/dist/js/page-flip.browser.min.js"></script>
<script>
  // Inizializzazione catalogo con copertina
  const flipBook = new St.PageFlip(document.getElementById("catalogo"), {
    width: 700,
    height: 1000,
    size: "stretch",
    showCover: true,
    mobileScrollSupport: true,
    drawShadow: true,
    maxShadowOpacity: 0.5,
    singlePageMode: window.innerWidth < 768 // pagina singola se schermo piccolo
  });

  // Carica immagini: prima la copertina
  flipBook.loadFromImages([
    "pagine/copertina.jpg",  // COPERTINA
    "pagine/pagina2.jpg",
    "pagine/pagina3.jpg",
    "pagine/pagina4.jpg",
    "pagine/pagina5.jpg",
    "pagine/copertina.jpg",
    
  ]);

  // Pulsanti di navigazione
  document.getElementById("next").addEventListener("click", () => flipBook.flipNext());
  document.getElementById("prev").addEventListener("click", () => flipBook.flipPrev());

  // Aggiorna modalità pagina singola quando si ridimensiona
  function updateSinglePageMode() {
    flipBook.updateState({
      singlePageMode: window.innerWidth < 768
    });
  }

  window.addEventListener("resize", updateSinglePageMode);
  updateSinglePageMode(); // esegue all'avvio
</script>

</body>
</html>
